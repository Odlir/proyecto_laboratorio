<div *ngIf="encuesta_id;else other_content">
	<app-header nombre="PROGRAMACIÓN DE ENCUESTAS" icono="edit"></app-header>
</div>

<ng-template #other_content>
	<app-header nombre="MANTENIMIENTO DE MUESTRAS" icono="flask"></app-header>
</ng-template>

<div class="widget clearfix mt-5">
	<div class="whead clearfix">
		<p><span *ngIf="id;else templateName">EDITAR </span>MUESTRA <span *ngIf="id">: {{ form.nro_muestra }}
				{{ form.descripcion }} {{ form.created_at | date: 'dd/MM/yyyy hh:mm:ss a' }}</span></p>
		<ng-template #templateName>
			CREAR
		</ng-template>
	</div>
	<div class="row data-crud">
		<div class="col-12">
			<form (ngSubmit)="guardar()" class="px-4" [formGroup]="formMuestras" novalidate="" ngNativeValidate>
				<div class="row">
					<div class="col-6">	
						<div class="form-group row my-3">
							<label class="col-sm-4 col-form-label w-100">Nro Muestra <span
									class="text-danger">*</span></label>
							<div class="col-sm-8">
								<input type="text" name="nromuestra" class="form-control" formControlName="nromuestra" [ngClass]="{'is-invalid': !formMuestras.get('nromuestra').valid}" [(ngModel)]="form.nro_muestra"
									required/>
								<div *ngIf="formMuestras.controls['nromuestra'].errors?.required" class="invalid-feedback">
									El número de muestra es necesario
								</div>
								<div *ngIf="formMuestras.controls['nromuestra'].errors?.pattern" class="invalid-feedback">
									Escribir solo números
								</div>
							</div>
							<hr>
						</div>
		
						<div class="form-group row my-3">
							<label class="col-sm-4 col-form-label w-100">Descripción <span class="text-danger">*</span></label>
							<div class="col-sm-8">
								<input type="text" name="desc" class="form-control" formControlName="desc" [ngClass]="{'is-invalid': !formMuestras.get('desc').valid}" [(ngModel)]="form.descripcion" required>
								<div *ngIf="formMuestras.controls['desc'].errors?.maxlength" class="invalid-feedback">
									Por lo máximo 250 caracteres
								</div>
							</div>
							<hr>
						</div>
		
						<div class="form-group row my-3">
							<label class="col-sm-4 col-form-label w-100">Precio Unitario <span
									class="text-danger">*</span></label>
							<div class="col-sm-8">
								<input type="text" name="punit" class="form-control" formControlName="punit" [ngClass]="{'is-invalid': !formMuestras.get('punit').valid}" [(ngModel)]="form.p_unitario"
									required/>
								<div *ngIf="formMuestras.controls['punit'].errors?.required" class="invalid-feedback">
									El precio es necesario
								</div>
								<div *ngIf="formMuestras.controls['punit'].errors?.pattern" class="invalid-feedback">
									Escribir solo números
								</div>
							</div>
							<hr>
						</div>
		
						<div class="form-group row my-3">
							<label class="col-sm-4 col-form-label w-100">Observaciones <span
								class="text-danger">*</span></label>
							<div class="col-sm-8">
								<textarea type="text" name="obs" class="form-control" formControlName="obs" [ngClass]="{'is-invalid': !formMuestras.get('obs').valid}" [(ngModel)]="form.observaciones" required></textarea>
								<div *ngIf="formMuestras.controls['obs'].errors?.maxlength" class="invalid-feedback">
									Por lo máximo 250 caracteres
								</div>
							</div>
							<hr>
						</div>
					</div>
				</div>

				<div class="form-group row">
					<div class="col-12">
						<button type="submit" class="btn btn-success">GUARDAR</button>
						<a (click)="return()" class="btn btn-info text-white">REGRESAR A LA LISTA</a>
					</div>
				</div>
			</form>
		</div>
		<div class="col-5 p-0 widget clearfix" *ngIf="id">
			<app-auditoria [form]="form"></app-auditoria>
		</div>
	</div>
</div>