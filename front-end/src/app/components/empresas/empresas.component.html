<app-header nombre="MANTENIMIENTO DE EMPRESAS" icono="city"></app-header>
<div class="col-12 text-right btn-crear">
	<button class="btn btn-warning" [routerLink]="['/crud-empresa']">CREAR EMPRESA</button>
</div>

<input type="text" class="buscador" placeholder="Buscar por Id/Razón Social/Contacto/Correo/Teléfono"
	(keyup)="updateFilter($event)" />

<div class="mt-5">
	<ngx-datatable class="bootstrap" [rows]="rows" [loadingIndicator]="loadingIndicator" [columnMode]="ColumnMode.force"
		[headerHeight]="40" [summaryPosition]="'bottom'" [footerHeight]="40" [limit]="20" rowHeight="auto"
		[reorderable]="reorderable" (page)="nextPage($event)" [count]="total" [externalPaging]="true" [offset]="offset">

		<ngx-datatable-column name="Id" [width]="1">
			<ng-template let-column="column" ngx-datatable-header-template> {{ column.name }} </ng-template>
			<ng-template let-value="value" ngx-datatable-cell-template>
				<a [routerLink]="['/detalle-empresa/']" [queryParams]="{id:value}">{{ value }}</a>
			</ng-template>
		</ngx-datatable-column>
		<ngx-datatable-column name="Nro de Ruc" prop="nro_ruc">
 			<ng-template let-column="column" ngx-datatable-header-template> {{ column.name }} </ng-template>
			<ng-template let-value="value" ngx-datatable-cell-template>
				{{ value }}
			</ng-template>
		</ngx-datatable-column>
		<ngx-datatable-column name="Razón Social" prop="razon_social">
			<ng-template let-column="column" ngx-datatable-header-template> {{ column.name }} </ng-template>
			<ng-template let-value="value" ngx-datatable-cell-template>
				{{ value }}
			</ng-template>
		</ngx-datatable-column>
		<ngx-datatable-column name="Nombre de Contacto" prop="nombre_contacto1">
			<ng-template let-column="column" ngx-datatable-header-template> {{ column.name }} </ng-template>
			<ng-template let-value="value" ngx-datatable-cell-template>
				{{ value }}
			</ng-template>
		</ngx-datatable-column>
		<ngx-datatable-column name="Correo de Contacto" prop="email_contacto1">
			<ng-template let-column="column" ngx-datatable-header-template> {{ column.name }} </ng-template>
			<ng-template let-value="value" ngx-datatable-cell-template>
				{{ value }}
			</ng-template>
		</ngx-datatable-column>
		<ngx-datatable-column name="Teléfono de Contacto" prop="telf_fijo1">
			<ng-template let-column="column" ngx-datatable-header-template> {{ column.name }} </ng-template>
			<ng-template let-value="value" ngx-datatable-cell-template>
				{{ value }}
			</ng-template>
		</ngx-datatable-column>
		<ngx-datatable-column name="Id">
			<ng-template let-column="column" ngx-datatable-header-template> Acciones </ng-template>
			<ng-template let-value="value" ngx-datatable-cell-template>
				<div class="row justify-content-center">
					<div class="col-4">
						<button class="btn" [routerLink]="['/detalle-empresa/']" [queryParams]="{id:value}">
						  <fa-icon class="icon_det" [icon]="['fas', 'eye']"></fa-icon>
						</button>
					  </div>
					  <div class="col-4">
						<button class="btn" [routerLink]="['/crud-empresa/']" [queryParams]="{id:value}">
						  <fa-icon class="icon_crud" [icon]="['fas', 'edit']"></fa-icon>
						</button>
					  </div>
					  <div class="col-4">
						<button class="btn" (click)="eliminar(value)">
						  <fa-icon class="icon_elim" [icon]="['fas', 'trash']"></fa-icon>
						</button>
					  </div>
				</div>
			</ng-template>
		</ngx-datatable-column>
	</ngx-datatable>
</div>
